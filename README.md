# 「断捨離BOX」Mercari AI/LLM Hackathon Product by Team F

## コンセプト
- メルカリの「価値を循環させる」力を活かして、不要になったモノの処分を躊躇ったり、面倒くさがっているヒトの断捨離をお手伝いするプロダクト
- 検索数に基づき需要を提示することで、売れそうなものを手放したくさせる。また、売れなさそうなものでも定期的に断捨離を促すメッセージを受け取り意識を高められる
- 現在、本の断捨離に特化した機能が実装されている

## 事前準備
- fastapi/app/.envを作成、OPENAI_API_KEYを設定
  - モデルにはGPT 4oを使っているため、任意のTierのアカウントのキーで問題ありません。
- dockerを起動
- ルートディレクトリでdocker compose upを実行
- 任意のディレクトリでdocker exec mercari-fastapi python batch_search_history.pyを実行
  - データベースに検索数のダミーデータが登録されます
- 開発者ツールでスマートフォン用レイアウトに変更
  - 主にiPhone12/13のサイズ(390 x 844)を想定しています。
  - 本製品はWebアプリですが、スマホでの使用を想定してレイアウトやデザインが行われています。

## アプリの使い方

### 断捨離ページトップ
![image](https://github.com/user-attachments/assets/e4603309-7531-487b-82fe-4b5e38a4ce1e)
- 「画像をアップロードする」ボタンから、断捨離したい本の画像（複数の本が写っていてもOK）を選択し、アップします
  - まずはdanshari-items/books.jpgを試すことをお勧めします。検索数データベースとの連携が体験できるためです
- 注意：このリポジトリではセキュリティの都合上、Googleログイン機能はオフにし、つねにguest_userとして登録・ログインされる仕様になっております
  - ハッカソンの時にはGoogleログインが動作しており、実際のGoogleアカウントに紐づいたuidをもとに画像やデータが登録されていました


### アップロード中画面
![image](https://github.com/user-attachments/assets/8f684e7f-cae1-42e2-bb62-aeaacf9b443c)
- アップロードした画像が表示されます。この間にバックエンドでGPTがOCRおよび検索数に基づく出品推薦文の生成を行います。画像に7冊ほど本が含まれている場合、約10秒で処理が完了します
- このページでは特に操作する必要はありません。アップロードが完了すると自動で次のページに遷移します


### アイテム選択画面
![image](https://github.com/user-attachments/assets/7010efc3-c0f3-417a-b548-d09acf87870e)
- このページでは出品下書きに送るか、断捨離BOXに送るかを選べます
- 推薦文を読んで今すぐ出品したくなったら下書きに、手放す決心がつかない場合はBOXに送り、少しずつ断捨離を進めることができます
- また、推薦文の内容をもとに付与されたラベルごとにアイテムを一覧することも可能です


### 断捨離BOX画面
![image](https://github.com/user-attachments/assets/1ab90a59-0d01-4ec5-a1d1-bc23e079edc9)
- このページではいままでに断捨離BOXに保存したアイテムを見ることができます
- アイテム選択画面で付与されたラベルも参照することができ、出品の判断に役立てられます


## 本プロダクトの特徴
- 従来の生成AIの活用方法とは異なり、既にシステムを利用する意思のある人のタスクを効率化するだけでなく、断捨離という多くの人が抱える悩みにアプローチし、新たな価値を生んでいることが、本プロダクト最大の特徴と言えます。興味はあるが出品したことがない人や、出品するか迷っている人の判断をダイレクトに後押しできます！
